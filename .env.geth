# Common OP_NODE configurations
OP_NODE_LOG_LEVEL=info
OP_NODE_METRICS_ADDR=0.0.0.0
OP_NODE_METRICS_ENABLED=true
OP_NODE_METRICS_PORT=7300
OP_NODE_P2P_AGENT=base
OP_NODE_P2P_LISTEN_IP=0.0.0.0
OP_NODE_P2P_LISTEN_TCP_PORT=9222
OP_NODE_P2P_LISTEN_UDP_PORT=9222
OP_NODE_RPC_ADDR=0.0.0.0
OP_NODE_RPC_PORT=8545
OP_NODE_LOG_FORMAT=json
OP_NODE_SYNCMODE="execution-layer"  # Default to execution layer sync

# Geth specific configurations
GETH_CACHE="51200"
GETH_CACHE_DATABASE="8"
GETH_CACHE_GC="0"
GETH_CACHE_SNAPSHOT="36"
GETH_CACHE_TRIE="56"
GETH_TXPOOL_GLOBALQUEUE="6144" #6x of the default 1024
GETH_TXPOOL_GLOBALSLOTS="30072" #6x of the default 5012
GETH_TXPOOL_LIFETIME="10m" #Time that non-executable tx can live in the queue before being dropped
DB_ENGINE="pebble" # Database engine: pebble or leveldb

OP_GETH_NET_RESTRICT="10.0.0.0/8"
OP_NODE_L2_ENGINE_AUTH=/tmp/engine-auth-jwt
OP_NODE_L2_ENGINE_RPC=ws://execution:8551
OP_NODE_SNAPSHOT_LOG=/tmp/op-node-snapshot-log
OP_NODE_VERIFIER_L1_CONFS=4
OP_NODE_ROLLUP_LOAD_PROTOCOL_VERSIONS=true

# Network-specific configurations
if [ "$NETWORK" = "mainnet" ]; then
    RETH_CHAIN=base
    RETH_SEQUENCER_HTTP=https://mainnet-sequencer.base.org
    OP_GETH_SEQUENCER_HTTP=https://mainnet-sequencer.base.org
    OP_SEQUENCER_HTTP=https://mainnet-sequencer.base.org
    OP_NODE_NETWORK=base-mainnet
    OP_GETH_OP_NETWORK=base-mainnet
    OP_NODE_P2P_BOOTNODES=enr:-J24QNz9lbrKbN4iSmmjtnr7SjUMk4zB7f1krHZcTZx-JRKZd0kA2gjufUROD6T3sOWDVDnFJRvqBBo62zuF-hYCohOGAYiOoEyEgmlkgnY0gmlwhAPniryHb3BzdGFja4OFQgCJc2VjcDI1NmsxoQKNVFlCxh_B-716tTs-h1vMzZkSs1FTu_OYTNjgufplG4N0Y3CCJAaDdWRwgiQG,enr:-J24QH-f1wt99sfpHy4c0QJM-NfmsIfmlLAMMcgZCUEgKG_BBYFc6FwYgaMJMQN5dsRBJApIok0jFn-9CS842lGpLmqGAYiOoDRAgmlkgnY0gmlwhLhIgb2Hb3BzdGFja4OFQgCJc2VjcDI1NmsxoQJ9FTIv8B9myn1MWaC_2lJ-sMoeCDkusCsk4BYHjjCq04N0Y3CCJAaDdWRwgiQG,enr:-J24QDXyyxvQYsd0yfsN0cRr1lZ1N11zGTplMNlW4xNEc7LkPXh0NAJ9iSOVdRO95GPYAIc6xmyoCCG6_0JxdL3a0zaGAYiOoAjFgmlkgnY0gmlwhAPckbGHb3BzdGFja4OFQgCJc2VjcDI1NmsxoQJwoS7tzwxqXSyFL7g0JM-KWVbgvjfB8JA__T7yY_cYboN0Y3CCJAaDdWRwgiQG
else
    RETH_CHAIN=base-sepolia
    RETH_SEQUENCER_HTTP=https://sepolia-sequencer.base.org
    OP_GETH_SEQUENCER_HTTP=https://sepolia-sequencer.base.org
    OP_SEQUENCER_HTTP=https://sepolia-sequencer.base.org
    OP_NODE_NETWORK=base-sepolia
    OP_GETH_OP_NETWORK=base-sepolia
    OP_NODE_P2P_BOOTNODES=enr:-J64QBwRIWAco7lv6jImSOjPU_W266lHXzpAS5YOh7WmgTyBZkgLgOwo_mxKJq3wz2XRbsoBItbv1dCyjIoNq67mFguGAYrTxM42gmlkgnY0gmlwhBLSsHKHb3BzdGFja4S0lAUAiXNlY3AyNTZrMaEDmoWSi8hcsRpQf2eJsNUx-sqv6fH4btmo2HsAzZFAKnKDdGNwgiQGg3VkcIIkBg,enr:-J64QFa3qMsONLGphfjEkeYyF6Jkil_jCuJmm7_a42ckZeUQGLVzrzstZNb1dgBp1GGx9bzImq5VxJLP-BaptZThGiWGAYrTytOvgmlkgnY0gmlwhGsV-zeHb3BzdGFja4S0lAUAiXNlY3AyNTZrMaEDahfSECTIS_cXyZ8IyNf4leANlZnrsMEWTkEYxf4GMCmDdGNwgiQGg3VkcIIkBg
fi

# Note: Archive nodes are deprecated. This configuration is for full nodes only.
# Hardware requirements for Geth full nodes:
# - AWS Instance: i4i.12xlarge
# - Storage: raid0 of all local nvme drives with ext4 filesystem
# - Base team runs Geth with Pebbledb for full nodes 